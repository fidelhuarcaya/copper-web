<p-toast />

<div class="p-card p-4">

    <div class="flex justify-content-between align-items-center mb-5 mt-4">
        <div class="text-justify">
            <h4 class="m-0">Listado de usuarios</h4>
        </div>
        <div>
            <p-button label="Nuevo" [rounded]="true" (click)="createUser()" icon="pi pi-plus"></p-button>
        </div>
    </div>
    
    

    <p-table [value]="users" [paginator]="true" [rows]="5" [first]="first" [showCurrentPageReport]="true"
        [tableStyle]="{ 'min-width': '50rem' }" currentPageReportTemplate="{first} a {last} de {totalRecords}"
        (onPage)="pageChange($event)" [rowsPerPageOptions]="[10, 25, 50]">
        <ng-template pTemplate="header">
            <tr>
                <th pSortableColumn="name">Nombres <p-sortIcon field="name" /></th>
                <th pSortableColumn="email">Correo <p-sortIcon field="email" /></th>
                <th pSortableColumn="role">Tipo de usuario <p-sortIcon field="role" /></th>
                <th pSortableColumn="status">Estado <p-sortIcon field="status" /></th>
                <th pSortableColumn="created_date">Fecha de creaci√≥n <p-sortIcon field="created_date" /></th>
                <th>Acciones</th>
            </tr>
        </ng-template>

        <ng-template pTemplate="body" let-user>
            <tr>
                <td>{{ user.fullName }}</td>
                <td>{{ user.email }}</td>
                <td>{{ user.roles[0].description }}</td>
                <td><app-status [status]="user.status"></app-status></td>
                <td>{{ user?.createdDate }}</td>
                <td>
                    <div class="flex justify-content-end gap-3">
                        <button pButton (click)="updateUser(user)" icon="pi pi-pencil" class="p-button-text"></button>
                    </div>
                </td>

            </tr>
        </ng-template>
    </p-table>

</div>